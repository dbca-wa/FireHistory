<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • FireHistory</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FireHistory</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
            
      

      <div class="hidden name"><code>one.Rmd</code></div>

    </div>

    
    
<p><img src="plots%2FFireHistory.png"></p>
<div class="section level2">
<h2 id="welcome-to-the-firehistory-package">Welcome to the FireHistory package!<a class="anchor" aria-label="anchor" href="#welcome-to-the-firehistory-package"></a>
</h2>
<p><code>FireHistory</code> is an R package designed to assist
researchers get the best out of the Department of Biodiversity,
Conservation and Attraction’s (DBCA) fire history dataset
(DBCA_Fire_History_DBCA_060). The fire history is a very large spatial
polygon dataset comprising of collated fire events (prescribed burns and
bushfires) that have occurred on departmental lands. Earliest records
date from 1937 and the data is updated regularly. The data can be
accessed on the <a href="https://catalogue.data.wa.gov.au/dataset/dbca-fire-history" class="external-link">data
WA website</a>.</p>
<p>There are 3 main steps in the <code>FireHistory</code> workflow:</p>
<ul>
<li>Downloading data</li>
<li>Getting the data prepped for analysis</li>
<li>Generating metrics</li>
</ul>
</div>
<div class="section level2">
<h2 id="downloading-the-fire-history-dataset">Downloading the Fire History dataset<a class="anchor" aria-label="anchor" href="#downloading-the-fire-history-dataset"></a>
</h2>
<p>The <code>FireHistory</code> package relies on the DBCA dataset to be
downloaded and available locally. Unfortunately at this stage an API
workflow is not available. As the data is dynamic care must be taken to
ensure that the data downloaded is the latest available.</p>
<p>To download the data please follow this link <a href="https://catalogue.data.wa.gov.au/dataset/dbca-fire-history" class="external-link">data
WA website</a>. Go to the <code>Data Downloads</code> drop down menu and
click the download for shapefile button. This button will take you to
the Shared Location Information Platform (SLIP) managed by Landgate. You
will need to register and login as a user. Access is free and the login
requirement is for statistics only. Once logged in you will have the
ability to download the data in two different Datums. Please choose the
GDA2020 version.</p>
<p>At time of writing the download was 939MB and should take a few
minutes depending on connection speeds. Make sure you save it somewhere
locally on your computer and remember how to get to it.</p>
<p>While on the data WA website, also click on the
<code>Resources</code> drop down menu and download the PDF of “Look-up
Tables”. This has important information about the attribute columns in
the downloaded shapefile if you wish to further understand and explore
the fire history data.</p>
</div>
<div class="section level2">
<h2 id="data-preparation">Data preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h2>
<p>First things first, you will need to download the package and load
it. You can only install the package from the GitHub repository. If you
haven’t already installed R package <code>devtools</code> you will need
to do this first.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"dbca-wa/FireHistory"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">FireHistory</span><span class="op">)</span></span></code></pre></div>
<p>The basic workflow of data preparation is that a polygon/s
representing an area of interest (AOI) will be used to spatially subset
the DBCA fire history which will be further temporally filtered based on
some user parameters. There are two options for defining an aoi.</p>
<div class="section level3">
<h3 id="user-supplied-aoi">User supplied AOI<a class="anchor" aria-label="anchor" href="#user-supplied-aoi"></a>
</h3>
<p>Got your own shapefile that you would like to use? No problems.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># file path to your shape file - note includes the file extension</span></span>
<span><span class="va">my_shape</span> <span class="op">&lt;-</span> <span class="st">"C:/somewhere/myshapefile.shp"</span></span>
<span></span>
<span><span class="co"># import it</span></span>
<span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/user_aoi.html">user_aoi</a></span><span class="op">(</span>aoi_path <span class="op">=</span> <span class="va">my_shape</span>, name <span class="op">=</span> <span class="st">"A very meaningful name"</span><span class="op">)</span></span></code></pre></div>
<p>Make sure your shapefile has a coordinate reference system. There
doesn’t need to be any specific information in the attribute table and
there can be multiple polygons if necessary as long as when assessed
together it makes sense. The parameter <code>name</code> should be
something helpful as all your products and plots will feature this.</p>
</div>
<div class="section level3">
<h3 id="dbca-tenure-or-forest-block-aoi">DBCA tenure or forest block AOI<a class="anchor" aria-label="anchor" href="#dbca-tenure-or-forest-block-aoi"></a>
</h3>
<p>Want to use a National Park boundary or a forest block as the AOI but
don’t know how to get it or what it’s full name is? No problems. The
package ships with a complete listing of tenure and forest block names
as well as their boundaries.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For DBCA tenure - have a look at the first few records....there's 1000+</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/find_tenure.html">find_tenure</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Highbury Nature Reserve"             </span></span>
<span><span class="co">#&gt; [2] "Badgingarra National Park"           </span></span>
<span><span class="co">#&gt; [3] "Dwellingup State Forest"             </span></span>
<span><span class="co">#&gt; [4] "Karnet Nature Reserve"               </span></span>
<span><span class="co">#&gt; [5] "Myalup State Forest"                 </span></span>
<span><span class="co">#&gt; [6] "Recherche Archipelago Nature Reserve"</span></span>
<span></span>
<span><span class="co"># Or for DBCA forest blocks</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/find_block.html">find_block</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "CORNWALL"  "STOATE"    "GERVASSE"  "CATTERICK" "JASPER"    "TALLING"</span></span></code></pre></div>
<p>That could take a while. Say we are pretty sure our National park AOI
has something to do with wandoo.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># search for something like wandoo</span></span>
<span><span class="fu"><a href="../reference/find_tenure.html">find_tenure</a></span><span class="op">(</span>like <span class="op">=</span> <span class="st">"wandoo"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Wandoo National Park"    "Wandoora Nature Reserve"</span></span>
<span></span>
<span><span class="co"># there are a few close matches but we want the first one and save it to an object</span></span>
<span><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_tenure.html">find_tenure</a></span><span class="op">(</span>like <span class="op">=</span> <span class="st">"wandoo"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<p>Alternatively, we might be looking for a forest block called
Jasper</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># search for something like jasper</span></span>
<span><span class="fu"><a href="../reference/find_block.html">find_block</a></span><span class="op">(</span>like <span class="op">=</span> <span class="st">"jasper"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "JASPER"</span></span>
<span></span>
<span><span class="co"># there is only one so no need to subset this time</span></span>
<span><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_block.html">find_block</a></span><span class="op">(</span>like <span class="op">=</span> <span class="st">"jasper"</span><span class="op">)</span></span></code></pre></div>
<p>Now that we have the correct name we can retrieve the DBCA spatial
boundary and save it as our AOI. The <code>DBCA_aoi</code> function’s
default behaviour is to return a tenure boundary. For a forest block
make sure you add the extra parameter.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># if the aoi is a tenure location</span></span>
<span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DBCA_aoi.html">DBCA_aoi</a></span><span class="op">(</span>choice <span class="op">=</span> <span class="va">location</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># if the aoi is a forest block</span></span>
<span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DBCA_aoi.html">DBCA_aoi</a></span><span class="op">(</span>choice <span class="op">=</span> <span class="va">location</span>, block <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Whichever way you define an AOI these functions will return a list
containing a spatial object and its name.</p>
<p>After defining the AOI, you use it to subset the downloaded fire
history data.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># file path to the fire history data - note includes the file extension</span></span>
<span><span class="va">path</span> <span class="op">&lt;-</span> <span class="st">"C:/somewhere/DBCA_Fire_History_DBCA_060.shp"</span></span>
<span><span class="co"># here we want to temporally restrict it to the period 1988-2022</span></span>
<span><span class="va">wandoo_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assemble_data.html">assemble_data</a></span><span class="op">(</span>fire_path <span class="op">=</span> <span class="va">path</span>, FYfrom <span class="op">=</span> <span class="fl">1988</span>, FYto <span class="op">=</span> <span class="fl">2022</span>, </span>
<span>                             aoi <span class="op">=</span> <span class="va">aoi</span>, accessed_on <span class="op">=</span> <span class="st">"01/01/2023"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># works the same for a forest block</span></span>
<span><span class="va">jasper_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assemble_data.html">assemble_data</a></span><span class="op">(</span>fire_path <span class="op">=</span> <span class="va">path</span>, FYfrom <span class="op">=</span> <span class="fl">1988</span>, FYto <span class="op">=</span> <span class="fl">2022</span>, </span>
<span>                             aoi <span class="op">=</span> <span class="va">aoi</span>, accessed_on <span class="op">=</span> <span class="st">"01/01/2023"</span><span class="op">)</span></span></code></pre></div>
<p>A couple of things to note here.Firstly the <code>FYfrom</code> and
<code>FYto</code> parameters. The years are financial years (July-June)
not calendar years (January to December). This is because, in the south
west, the fire season occurs predominantly during the summer months.
Bear this in mind if your aoi is in the north.</p>
<p>Secondly, the <code>accessed_on</code> parameter is for the user to
record the date of when they accessed the DBCA_Fire_History_DBCA_060
shapefile. This date stamp will appear as a caption on plots etc.</p>
<p>Whilst the fire history data is huge, as it is subset using the AOI
prior to reading into memory, this process is reasonably fast (about
10-20 seconds for the wandoo data set). Saving it to an object (here
called wandoo_data) is important as this will be passed along to the
fire metrics functions. If there is nothing in the fire history for the
AOI the function will return an error. The fire history is most complete
on DBCA tenure and forest blocks and generally even better in more
populous regions/areas.</p>
</div>
</div>
<div class="section level2">
<h2 id="fire-metrics">Fire Metrics<a class="anchor" aria-label="anchor" href="#fire-metrics"></a>
</h2>
<p>Now it is time to generate some fire metrics. Here is an example to
calculate Year Since Last Burn (YSLB) for the Wandoo example above.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create YSLB for the Wandoo National Park</span></span>
<span><span class="va">yslb_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/yslb.html">yslb</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wandoo_data</span>, products <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>By saving it to an object it creates a list containing:</p>
<ul>
<li>A YSLB raster of class SpatRaster (from the Terra R package)</li>
<li>A YSLB map of class ggplot</li>
<li>A tibble of area stats</li>
<li>A YSLB column plot of class ggplot</li>
</ul>
<p>By having a list of these products the user can extract them and
manipulate the plot objects or directly use the raster in other
analysis. The parameter <code>products = TRUE</code> will create a
folder in your working directory and save the four products to it.</p>
<p>Examples of the plots are below. <img src="plots%2FWandoo_National_Park_1988-2022_YSLB_map.png" alt="map"><img src="plots%2FWandoo_National_Park_1988-2022_YSLB_plot.png" alt="column plot"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Bart Huntley.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
